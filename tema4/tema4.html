<!DOCTYPE html>
<html lang="es">
<head>
 <!-- Meta InformaciÃ³n General -->
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!-- TÃ­tulo de la PÃ¡gina -->
  <title>Tutorial â€” Tema 4</title>
  <!-- DescripciÃ³n de la PÃ¡gina -->
  <meta name="description" content="Tutorial para crear pÃ¡ginas web con Inteligencia Artificial usando Claude AI y Visual Studio Code. HTML5, CSS3, JavaScript desde cero."/>
  <meta name="keywords" content="tutorial web, inteligencia artificial, Claude AI, HTML5, CSS3, JavaScript, VS Code, principiantes, SENA"/>
  <!-- Meta para SEO -->
  <meta name="robots" content="follow, index"/>
  <link rel="canonical" href=""/>
  <!-- Seguridad: PolÃ­tica de contenido -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com https://www.youtube.com https://www.youtube-nocookie.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; script-src 'self' 'unsafe-inline'; frame-src https://www.youtube.com https://www.youtube-nocookie.com;"/> 
  <!-- Autor de la PÃ¡gina -->
  <meta name="author" content="Edwin Alexander Medina MartÃ­nez & Miguel Ãngel Palacio RodrÃ­guez">
  <!-- Seguridad -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff"/>
  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="../favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../favicon/favicon-16x16.png">
  <link rel="manifest" href="../favicon/site.webmanifest">
  <!-- Imagen para redes sociales y navegador -->
  <meta property="og:title" content="MÃ³dulo 4 â€” JavaScript con IA | Tutorial Web con IA"/>
  <meta property="og:description" content="Lazy loading, Intersection Observer y rendimiento con Claude AI."/>
  <meta property="og:image" content="https://alexpruebag25.github.io/tutorial-web-ia/img/og-image.jpg"/>
  <meta property="og:url" content="https://alexpruebag25.github.io/tutorial-web-ia/tema4/tema4.html"/>
  <meta property="og:type" content="website"/>
  <!-- Enlace a Estilos CSS -->
  <link rel="stylesheet" href="../styles.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;700&family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet"/>
   <!-- Scripts JavaScript -->
  <script src="../java.js" defer></script>
</head>
<body>
   <!-- BOTÃ“N VOLVER  A Pagina Principal-->
     <a href="../index.html" class="btn-home"> â† Volver</a>
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     TEMA 4 â€” JAVASCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="tema-section" id="tema4">
  <div class="container">
    <div class="tema-header">
      <div class="tema-number">04</div>
      <div>
        <span class="tema-tag">// interactividad, rendimiento y experiencia de usuario</span>
        <h2 class="tema-title"><span class="accent">JavaScript</span> con IA â€” Rendimiento, Lazy Loading e Interactividad</h2>
        <p class="tema-desc">JavaScript es el motor de tu pÃ¡gina. Mal usado la hace lenta y frustrante. Bien usado la hace viva e impresionante. La clave es cargar solo lo necesario, cuando se necesita.</p>
      </div>
    </div>

    <div class="tip red" style="margin-bottom:2rem;"><span class="tip-icon">âš ï¸</span><div><strong>El problema del JavaScript excesivo:</strong> cada secciÃ³n de tu pÃ¡gina con texto, imÃ¡genes y efectos suma peso. Si todo carga al mismo tiempo al abrir la pÃ¡gina, el usuario espera segundos antes de ver algo â€” y se va. La soluciÃ³n se llama <strong>Lazy Loading</strong> y <strong>carga diferida</strong>.</div></div>
    
    <div class="divider"></div>

    <span class="section-eyebrow">// conceptos esenciales antes del cÃ³digo</span>
    <div class="grid-4" style="margin-bottom:2rem;">
      <div class="card"><span class="card-icon">ğŸ‘ï¸</span><div class="card-title">Intersection Observer</div><div class="card-text">API nativa del navegador que detecta cuando un elemento <strong>entra o sale del viewport</strong> (la pantalla visible). Sin ella necesitarÃ­as escuchar el evento scroll constantemente, lo cual es muy lento.</div></div>
      <div class="card"><span class="card-icon">ğŸ–¼ï¸</span><div class="card-title">Lazy Loading de imÃ¡genes</div><div class="card-text">Usar <code>data-src</code> en vez de <code>src</code>. Las imÃ¡genes no se cargan hasta que el usuario llega a ellas. Ahorra <strong>datos y tiempo de carga</strong> â€” especialmente en mÃ³viles con internet lento.</div></div>
      <div class="card"><span class="card-icon">ğŸ”</span><div class="card-title">MenÃº Hamburguesa</div><div class="card-text">En mÃ³vil el navbar se oculta detrÃ¡s de un botÃ³n con tres lÃ­neas. JavaScript escucha el clic y <strong>agrega/quita una clase CSS</strong> que muestra u oculta el menÃº con una animaciÃ³n.</div></div>
      <div class="card"><span class="card-icon">â˜ï¸</span><div class="card-title">Back to Top</div><div class="card-text">BotÃ³n que aparece cuando el usuario hace scroll hacia abajo. Al hacer clic regresa al inicio con <code>scrollTo({ behavior: 'smooth' })</code>. Mejora notablemente la experiencia en pÃ¡ginas largas.</div></div>
    </div>
     
    <div class="divider"></div>

    <span class="section-eyebrow">// cÃ³digo JavaScript completo y comentado</span>
    <div class="grid-2" style="margin-bottom:2rem;">
      <div class="code-wrap">
        <div class="code-header">
          <span class="code-filename"><span style="color:#f7df1e">â—‰</span>&nbsp;assets/js/main.js</span>
          <span class="code-lang">javascript</span>
          <button class="code-copy" onclick="copyCode(this)">Copiar</button>
        </div>
        <pre><span class="cm">// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// main.js â€” Generado con Claude AI
// Cargado con defer: no bloquea el HTML
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span>

<span class="cm">// â”€â”€ 1. ESPERAR A QUE EL DOM ESTÃ‰ LISTO â”€â”€
// El documento debe estar cargado antes
// de intentar acceder a cualquier elemento.</span>
document.<span class="fn">addEventListener</span>(<span class="st">'DOMContentLoaded</span>', () => {

  <span class="cm">// â”€â”€ 2. MENÃš HAMBURGUESA â”€â”€</span>
  <span class="kw">const</span> btnMenu   = document.<span class="fn">querySelector</span>(<span class="st">'.menu-toggle'</span>);
  <span class="kw">const</span> navLinks  = document.<span class="fn">querySelector</span>(<span class="st">'.nav-links'</span>);

  <span class="kw">if</span> (btnMenu && navLinks) {
    btnMenu.<span class="fn">addEventListener</span>(<span class="st">'click'</span>, () => {
      <span class="kw">const</span> abierto = navLinks.classList.<span class="fn">toggle</span>(<span class="st">'abierto'</span>);
      <span class="cm">// Accesibilidad: avisa a lectores de pantalla</span>
      btnMenu.<span class="fn">setAttribute</span>(<span class="st">'aria-expanded'</span>, abierto);
    });

    <span class="cm">// Cierra el menÃº al hacer clic en un enlace</span>
    navLinks.<span class="fn">querySelectorAll</span>(<span class="st">'a'</span>).<span class="fn">forEach</span>(link => {
      link.<span class="fn">addEventListener</span>(<span class="st">'click'</span>, () => {
        navLinks.classList.<span class="fn">remove</span>(<span class="st">'abierto'</span>);
        btnMenu.<span class="fn">setAttribute</span>(<span class="st">'aria-expanded'</span>, <span class="kw">false</span>);
      });
    });
  }

  <span class="cm">// â”€â”€ 3. LAZY LOADING â€” ImÃ¡genes diferidas â”€â”€
  // Busca todas las imÃ¡genes con data-src
  // Las carga solo cuando son visibles.</span>
  <span class="kw">const</span> imagenesDiferidas = document
    .<span class="fn">querySelectorAll</span>(<span class="st">'img[data-src]'</span>);

  <span class="kw">const</span> imgObserver = <span class="kw">new</span> <span class="fn">IntersectionObserver</span>(
    (entries, obs) => {
      entries.<span class="fn">forEach</span>(entry => {
        <span class="kw">if</span> (!entry.isIntersecting) <span class="kw">return</span>;
        <span class="kw">const</span> img = entry.target;
        img.src = img.dataset.src;        <span class="cm">// carga la imagen</span>
        img.<span class="fn">removeAttribute</span>(<span class="st">'data-src'</span>);  <span class="cm">// limpia el atributo</span>
        img.classList.<span class="fn">add</span>(<span class="st">'cargada'</span>);   <span class="cm">// para animar con CSS</span>
        obs.<span class="fn">unobserve</span>(img);             <span class="cm">// deja de observar</span>
      });
    },
    { rootMargin: <span class="st">'200px'</span> } <span class="cm">// carga 200px antes de aparecer</span>
  );

  imagenesDiferidas.<span class="fn">forEach</span>(img => imgObserver.<span class="fn">observe</span>(img));

  <span class="cm">// â”€â”€ 4. ANIMACIONES AL HACER SCROLL â”€â”€
  // Las secciones aparecen con fade-in
  // cuando el usuario llega a ellas.</span>
  <span class="kw">const</span> secciones = document
    .<span class="fn">querySelectorAll</span>(<span class="st">'.animar-entrada'</span>);

  <span class="kw">const</span> animObserver = <span class="kw">new</span> <span class="fn">IntersectionObserver</span>(
    (entries) => {
      entries.<span class="fn">forEach</span>(entry => {
        <span class="kw">if</span> (entry.isIntersecting) {
          entry.target.classList.<span class="fn">add</span>(<span class="st">'visible'</span>);
          animObserver.<span class="fn">unobserve</span>(entry.target);
        }
      });
    },
    { threshold: <span class="nm">0.15</span> }
  );

  secciones.<span class="fn">forEach</span>(el => animObserver.<span class="fn">observe</span>(el));

  <span class="cm">// â”€â”€ 5. BOTÃ“N VOLVER ARRIBA â”€â”€</span>
  <span class="kw">const</span> btnTop = document.<span class="fn">getElementById</span>(<span class="st">'back-to-top'</span>);

  <span class="kw">if</span> (btnTop) {
    window.<span class="fn">addEventListener</span>(<span class="st">'scroll'</span>, () => {
      btnTop.classList.<span class="fn">toggle</span>(<span class="st">'visible'</span>, window.scrollY > <span class="nm">400</span>);
    }, { passive: <span class="kw">true</span> }); <span class="cm">// passive = mejor rendimiento</span>

    btnTop.<span class="fn">addEventListener</span>(<span class="st">'click'</span>, () => {
      window.<span class="fn">scrollTo</span>({ top: <span class="nm">0</span>, behavior: <span class="st">'smooth'</span> });
    });
  }

  <span class="cm">// â”€â”€ 6. NAVBAR â€” cambio de estilo al hacer scroll â”€â”€</span>
  <span class="kw">const</span> header = document.<span class="fn">querySelector</span>(<span class="st">'header'</span>);
  <span class="kw">if</span> (header) {
    window.<span class="fn">addEventListener</span>(<span class="st">'scroll'</span>, () => {
      header.classList.<span class="fn">toggle</span>(<span class="st">'scrolled'</span>, window.scrollY > <span class="nm">60</span>);
    }, { passive: <span class="kw">true</span> });
  }

}); <span class="cm">// fin DOMContentLoaded</span>

<span class="cm">/* CSS que va en styles.css para las animaciones:

.animar-entrada {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}
.animar-entrada.visible {
  opacity: 1;
  transform: translateY(0);
}
img[data-src] { opacity: 0; transition: opacity 0.4s; }
img.cargada   { opacity: 1; }
header.scrolled { background: rgba(15,23,42,0.98); }
*/</span></pre>
      </div>
      <div style="display:flex;flex-direction:column;gap:1rem;">
        <div class="card">
          <div class="card-title">âš¡ Por quÃ© usar passive: true en scroll</div>
          <div class="card-text">Cuando el navegador detecta un listener de scroll, asume que podrÃ­as llamar a <code>preventDefault()</code> y espera antes de hacer scroll. Con <code>passive: true</code> le dices "nunca voy a bloquear el scroll" y el navegador puede hacer scroll inmediatamente. Resultado: scroll mucho mÃ¡s fluido en mÃ³viles.</div>
        </div>
        <div class="card">
          <div class="card-title">ğŸ–¼ï¸ CÃ³mo usar las imÃ¡genes con lazy loading</div>
          <div class="card-text" style="margin-bottom:0.6rem;">En el HTML cambia <code>src</code> por <code>data-src</code>:</div>
          <div class="code-wrap" style="font-size:0.72rem;">
            <pre style="padding:0.8rem;font-size:0.72rem;"><span class="cm">&lt;!-- Antes (carga inmediata) --&gt;</span>
<span class="tg">&lt;img</span> <span class="at">src=</span><span class="vl">"foto.jpg"</span> <span class="at">alt=</span><span class="vl">"..."</span><span class="tg">/&gt;</span>

<span class="cm">&lt;!-- DespuÃ©s (carga diferida) --&gt;</span>
<span class="tg">&lt;img</span> <span class="at">data-src=</span><span class="vl">"foto.jpg"</span>
     <span class="at">src=</span><span class="vl">"placeholder.jpg"</span>
     <span class="at">alt=</span><span class="vl">"DescripciÃ³n"</span>
     <span class="at">loading=</span><span class="vl">"lazy"</span><span class="tg">/&gt;</span></pre>
          </div>
        </div>
        <div class="tip green"><span class="tip-icon">âœ…</span><div><strong>Buenas prÃ¡cticas de JS:</strong><br>â˜‘ Siempre verifica que el elemento existe antes de usarlo (<code>if (elemento)</code>)<br>â˜‘ Usa <code>const</code> y <code>let</code>, nunca <code>var</code><br>â˜‘ Carga el script con <code>defer</code> en el HTML<br>â˜‘ Usa <code>passive: true</code> en listeners de scroll</div></div>
        <div class="tip red"><span class="tip-icon">ğŸš«</span><div><strong>Errores comunes que Claude puede generar:</strong> scripts con <code>document.write()</code> (obsoleto y peligroso), uso de <code>innerHTML</code> con datos del usuario sin sanitizar (vulnerabilidad XSS), y selectores sin verificaciÃ³n de existencia que rompen la consola.</div></div>
      </div>
    </div>

    <div class="divider"></div>
     
    <!-- videos de referencia-->
    <div class="video-section">
      <div class="video-section-title">â–¶ Videos de referencia â€” JavaScript moderno Â· midudev &amp; MoureDev</div>
      <div class="video-grid">
        <div class="video-container">
          <div class="video-responsive">
            <iframe src="https://www.youtube.com/embed/Z34BF9PCfYg" title="JavaScript desde cero â€” midudev" allowfullscreen loading="lazy"></iframe>
          </div>
          <div class="video-caption"><strong>JavaScript desde cero</strong> â€” midudev Â· ES6+, DOM, eventos</div>
        </div>
        <div class="video-container">
          <div class="video-responsive">
            <iframe src="https://www.youtube.com/embed/1glVfFxj8a4" title="Curso JavaScript desde cero â€” MoureDev" allowfullscreen loading="lazy"></iframe>
          </div>
          <div class="video-caption"><strong>Curso de JavaScript desde cero</strong> â€” MoureDev Â· 6h, 130 ejercicios, gratis</div>
        </div>
      </div>
    </div>

    <div class="prompt-card" style="margin-top:1.5rem;">
      <div class="prompt-label">âœ¦ Prompt para pedirle el JavaScript a Claude</div>
      <div class="prompt-text">"Crea el JavaScript completo para mi sitio web. Necesito: (1) menÃº hamburguesa para mÃ³viles que toggle la clase 'abierto' en el nav y actualice el aria-expanded para accesibilidad, (2) lazy loading para imÃ¡genes con data-src usando IntersectionObserver, (3) animaciones de entrada al scroll para elementos con clase 'animar-entrada', (4) botÃ³n back-to-top que aparezca despuÃ©s de 400px de scroll y suba suavemente, (5) header que cambie de estilo al hacer scroll. Todo en vanilla JavaScript ES6+, sin librerÃ­as externas, con passive:true en todos los listeners de scroll, verificando que cada elemento existe antes de usarlo. Comenta cada secciÃ³n."</div>
    </div>
  </div>
</section>
<!-- BOTÃ“N VOLVER ARRIBA -->
<button id="back-to-top" aria-label="Volver al inicio">
  <svg viewBox="0 0 24 24"><path d="M12 4l-8 8h5v8h6v-8h5z"/></svg>
</button>

<!-- FOOTER -->
<footer>
  <div class="footer-logo">
    <span style="color:var(--blue)">&lt;</span>Tutorial-Web-IA Â· Para principiantes con estÃ¡ndar profesional<span style="color:var(--green)">/</span><span style="color:var(--blue)">&gt;</span>
  </div>
  <p>Creado con <strong>HTML5 Â· CSS3 Â· JavaScript</strong> Â· Asistido por <strong>Claude (Anthropic)</strong></p>
  <p><strong>La practica constante hace que puedas hacer cosas increÃ­bles, utiliza herramientas a tu favor </strong></p> <br>
  <span>â†“ Creadores del Tutorial â†“</span> 
 <p class="footer-autores">
  <span>Edwin Alexander Medina MartÃ­nez</span>
  <span class="separador"> & </span>
  <span>Miguel Ãngel Palacio RodrÃ­guez</span>
</p> <br>
  <p style="margin-top:0.3rem;">Â©2026 â€” Todos los derechos reservados</p>
</footer>
</body>
</html>